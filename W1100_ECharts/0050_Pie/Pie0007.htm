<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title> Pie 0007 </title>
</head>
<body>



    <h3>  Pie 0007  </h3>

    <p>
    饼图 + 时间轴
    </p>


    


    <!--Step:1 为ECharts准备一个具备大小（宽高）的Dom-->
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="height:400px"></div>



    <div id="wrong-message"></div>



    <!--Step:2 引入echarts.js-->
    <!-- ECharts单文件引入 -->
    <script src="/js/echarts.js" type="text/javascript"></script>




    <script type="text/javascript">

        var idx = 1;




        // Step:3 为模块加载器配置echarts的路径，从当前页面链接到echarts.js，定义所需图表路径
        // 路径配置
        require.config({
            paths: {
                echarts: '/js'
            }
        });



        // Step:4 动态加载echarts然后在回调函数中开始使用，注意保持按需加载结构定义图表路径
        // 使用
        require(
            [
                'echarts',
                'echarts/chart/pie', // 使用饼图就加载pie模块，按需加载

                'echarts/chart/funnel'      // 漏斗图切换时使用.
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('main'));

                var option = {
                    timeline: {
                        data: [
                            '2013-01-01', '2013-02-01', '2013-03-01', '2013-04-01', '2013-05-01',
                            { name: '2013-06-01', symbol: 'emptyStar6', symbolSize: 8 },
                            '2013-07-01', '2013-08-01', '2013-09-01', '2013-10-01', '2013-11-01',
                            { name: '2013-12-01', symbol: 'star6', symbolSize: 8 }
                        ],
                        label: {
                                formatter: function (s) {
                                    return s.slice(0, 7);
                                }
                            }
                        },
                        options: [
                        {
                            title: {
                                text: '浏览器占比变化',
                                subtext: '纯属虚构'
                            },
                            tooltip: {
                                trigger: 'item',
                                formatter: "{a} <br/>{b} : {c} ({d}%)"
                            },
                            legend: {
                                data: ['Chrome', 'Firefox', 'Safari', 'IE9+', 'IE8-']
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: { show: true },
                                    dataView: { show: true, readOnly: false },
                                    magicType: {
                                        show: true,
                                        type: ['pie', 'funnel'],
                                        option: {
                                            funnel: {
                                                x: '25%',
                                                width: '50%',
                                                funnelAlign: 'left',
                                                max: 1700
                                            }
                                        }
                                    },
                                    restore: { show: true },
                                    saveAsImage: { show: true }
                                }
                            },
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    center: ['50%', '45%'],
                                    radius: '50%',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        },
                        {
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        },
                        {
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        },
                        {
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        },
                        {
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        },
                        {
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        },
                        {
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        },
                        {
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        },
                        {
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        },
                        {
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        },
                        {
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        },
                        {
                            series: [
                                {
                                    name: '浏览器（数据纯属虚构）',
                                    type: 'pie',
                                    data: [
                                        { value: idx * 128 + 80, name: 'Chrome' },
                                        { value: idx * 64 + 160, name: 'Firefox' },
                                        { value: idx * 32 + 320, name: 'Safari' },
                                        { value: idx * 16 + 640, name: 'IE9+' },
                                        { value: idx++ * 8 + 1280, name: 'IE8-' }
                                    ]
                                }
                            ]
                        }
                    ]
                };

                // 为echarts对象加载数据 
                myChart.setOption(option);



            }
        );



        


    </script>

</body>
</html>
