<!DOCTYPE html>
<html>
<head>
    <title> 测试 svg.js </title>

    <script src="../Scripts/jquery-2.1.3.js" type="text/javascript"></script>
    <script src="../Scripts/svg.js" type="text/javascript"></script>
</head>


<body>

    <p>
    文档参考 http://documentup.com/wout/svg.js
    </p>


    <div id="drawing">
    </div>



<script type="text/javascript">


    $(document).ready(function () {

        // 判断浏览器是否支持 SVG.
        if (!SVG.supported) {
            alert('SVG not supported')
            return;
        }


        // 初始化一个 svg 
        var draw = SVG('drawing').size(800, 600);
        // 背景.
        var background = draw.rect(800, 600).attr({ fill: '#1faaf1' });



        // ---------- 矩形 rect ----------
        var rect = draw.rect(100, 100);
        // 设置矩形的圆角. (设置 rx 与 ry)
        rect.radius(10, 20);

        // 初始:未选择.
        rect.attr("checked", "0");


        rect.click(function () {
            if (this.attr("checked") == "0") {

                console.debug("选择!");
                this.attr("checked", "1");
                this.attr("fill", "#f06");

            } else {

                console.debug("取消选择!");
                this.attr("checked", "0");
                this.attr("fill", null);

            }
        });





        // ---------- 椭圆 Ellipse ----------
        var ellipse = draw.ellipse(200, 100);
        // 设置 rx 与 ry
        ellipse.radius(75, 50);
        // 设置 x
        ellipse.x(200);

        // 初始:未选择.
        ellipse.attr("checked", "0");


        ellipse.click(function () {
            if (this.attr("checked") == "0") {

                console.debug("选择!");
                this.attr("checked", "1");
                this.attr("fill", "#f06");

            } else {

                console.debug("取消选择!");
                this.attr("checked", "0");
                this.attr("fill", null);

            }
        });






        // ---------- 圆 circle ----------
        var circle = draw.circle(100)

        // 设置 x
        circle.x(400);

        // 初始:未选择.
        circle.attr("checked", "0");


        circle.click(function () {
            if (this.attr("checked") == "0") {

                console.debug("选择!");
                this.attr("checked", "1");
                this.attr("fill", "#f06");

            } else {

                console.debug("取消选择!");
                this.attr("checked", "0");
                this.attr("fill", null);

            }
        });





        // ---------- Image ----------
        var image = draw.image('/Images/jay.png', 64, 64);
        image.x(400);
        image.y(200);

        // 初始:未选择.
        image.attr("checked", "0");



        // Image 对象， 使用 attr("fill"， "#f06");  没有效果，因此用 this.rotate(45); 与 this.opacity(0.5);  来表示选择.
        image.click(function () {
            if (this.attr("checked") == "0") {

                console.debug("选择!");
                this.attr("checked", "1");


                this.opacity(0.5);
                this.rotate(45);

            } else {

                console.debug("取消选择!");
                this.attr("checked", "0");

                this.opacity(1);
                this.rotate(0);

            }

        });





        // ---------- text ----------
        var text = draw.text("测试鼠标点击图形,然后查看控制台日志！");
        text.x(100);
        text.y(200);

        // 初始:未选择.
        text.attr("checked", "0");


        text.click(function () {
            if (this.attr("checked") == "0") {

                console.debug("选择!");
                this.attr("checked", "1");
                this.attr("fill", "#f06");

            } else {

                console.debug("取消选择!");
                this.attr("checked", "0");
                this.attr("fill", null);

            }
        });

    });

</script>


</body>

</html>
