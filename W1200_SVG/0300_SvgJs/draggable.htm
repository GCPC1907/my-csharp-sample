<!DOCTYPE html>
<html>
<head>
    <title> 测试 svg.draggable.js </title>

    <script src="../Scripts/jquery-2.1.3.js" type="text/javascript"></script>
    <script src="../Scripts/svg.js" type="text/javascript"></script>
    <script src="../Scripts/svg.draggable.js" type="text/javascript"></script>
</head>


<body>

    <p>
        测试 拖动.
    </p>


    <div id="drawing">
    </div>







<script type="text/javascript">

    $(document).ready(function () {

        // 判断浏览器是否支持 SVG.
        if (!SVG.supported) {
            alert('SVG not supported')
            return;
        }


        // 初始化一个 svg 
        var draw = SVG('drawing').size(800, 600)



        // ---------- 矩形 rect ----------
        var rect = draw.rect(100, 100).attr({ fill: '#f06' })
        // 设置矩形的圆角. (设置 rx 与 ry)
        rect.radius(10, 20);


        // 设置可以拖动. (拖动区间限制在参数中.)
        rect.draggable( {
			minX: 10
			, minY: 15
			, maxX: 200
			, maxY: 100
			} );
			
		// 可以通过fixed()方法来禁止svg元素的拖拽功能。




        // 设置 拖动的事件.

        rect.dragstart = function (delta, event) {
            console.debug("dragstart ");
            console.log(delta.x, delta.y);
            // console.debug(event);

            console.debug(rect.x(), rect.y());
        }

        rect.beforestart = function (event) {
            console.debug("beforestart ");
            // console.debug(event);
        }

        rect.dragmove = function (delta, event) {
            // console.debug("dragmove ");
            // console.log(delta.x, delta.y);
            // console.debug(event);
        }



        rect.dragend = function (delta, event) {
            console.debug("dragend ");

            // 这个是相对移动的坐标.
            console.log(delta.x, delta.y);

            // 这个是移动以后的绝对坐标.
            console.debug(rect.x(), rect.y());
        }









    });

</script>



</body>
</html>
